(function(e){function t(t){for(var a,r,c=t[0],u=t[1],i=t[2],f=0,l=[];f<c.length;f++)r=c[f],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&l.push(s[r][0]),s[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);d&&d(t);while(l.length)l.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(a=!1)}a&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},s={app:0},o=[];function c(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-07d0efd1":"943b30e9","chunk-2237e890":"d5091b58","chunk-3208a6fd":"0e067e4f","chunk-b785bbc6":"1d4785fb","chunk-51812cb6":"670976bd","chunk-637f4742":"50e717c4","chunk-687899c4":"ea20909e","chunk-74b790b1":"e6456865","chunk-7b30674b":"9860ac0d"}[e]+".js"}function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-07d0efd1":1,"chunk-2237e890":1,"chunk-3208a6fd":1,"chunk-b785bbc6":1,"chunk-51812cb6":1,"chunk-637f4742":1,"chunk-687899c4":1,"chunk-74b790b1":1,"chunk-7b30674b":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-07d0efd1":"b059f53d","chunk-2237e890":"310b51ab","chunk-3208a6fd":"2370bfcb","chunk-b785bbc6":"54f3b0dc","chunk-51812cb6":"967c4069","chunk-637f4742":"9ad16a1b","chunk-687899c4":"c8ab826f","chunk-74b790b1":"a78167f5","chunk-7b30674b":"15e465d5"}[e]+".css",s=u.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var i=o[c],f=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(f===a||f===s))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){i=l[c],f=i.getAttribute("data-href");if(f===a||f===s)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[e],d.parentNode.removeChild(d),n(o)},d.href=s;var b=document.getElementsByTagName("head")[0];b.appendChild(d)})).then((function(){r[e]=0})));var a=s[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=s[e]=[t,n]}));t.push(a[2]=o);var i,f=document.createElement("script");f.charset="utf-8",f.timeout=120,u.nc&&f.setAttribute("nonce",u.nc),f.src=c(e);var l=new Error;i=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=s[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,n[1](l)}s[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:f})}),12e4);f.onerror=f.onload=i,document.head.appendChild(f)}return Promise.all(t)},u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],f=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=f;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0fd5":function(e,t,n){var a={"./af":"8206","./af.js":"8206","./ar":"cdac","./ar-dz":"7f26","./ar-dz.js":"7f26","./ar-kw":"8e88","./ar-kw.js":"8e88","./ar-ly":"cd65","./ar-ly.js":"cd65","./ar-ma":"e8d6","./ar-ma.js":"e8d6","./ar-sa":"a284","./ar-sa.js":"a284","./ar-tn":"64f7","./ar-tn.js":"64f7","./ar.js":"cdac","./az":"b139","./az.js":"b139","./be":"98e2","./be.js":"98e2","./bg":"a1a5","./bg.js":"a1a5","./bm":"4d0d","./bm.js":"4d0d","./bn":"e8ae","./bn.js":"e8ae","./bo":"bcf2","./bo.js":"bcf2","./br":"69f1","./br.js":"69f1","./bs":"24d1","./bs.js":"24d1","./ca":"3507","./ca.js":"3507","./cs":"d15f","./cs.js":"d15f","./cv":"7bfe","./cv.js":"7bfe","./cy":"1d35","./cy.js":"1d35","./da":"a019","./da.js":"a019","./de":"0cfa","./de-at":"edea","./de-at.js":"edea","./de-ch":"9aae","./de-ch.js":"9aae","./de.js":"0cfa","./dv":"1722","./dv.js":"1722","./el":"5390","./el.js":"5390","./en-SG":"2088","./en-SG.js":"2088","./en-au":"dad9","./en-au.js":"dad9","./en-ca":"6f13","./en-ca.js":"6f13","./en-gb":"6267","./en-gb.js":"6267","./en-ie":"80b1","./en-ie.js":"80b1","./en-il":"ad38","./en-il.js":"ad38","./en-nz":"39db","./en-nz.js":"39db","./eo":"1a30","./eo.js":"1a30","./es":"48a3","./es-do":"f306","./es-do.js":"f306","./es-us":"60bf","./es-us.js":"60bf","./es.js":"48a3","./et":"f891","./et.js":"f891","./eu":"a403","./eu.js":"a403","./fa":"ce14","./fa.js":"ce14","./fi":"fc14","./fi.js":"fc14","./fo":"2bf2","./fo.js":"2bf2","./fr":"c1e8","./fr-ca":"50a2","./fr-ca.js":"50a2","./fr-ch":"b087","./fr-ch.js":"b087","./fr.js":"c1e8","./fy":"4665","./fy.js":"4665","./ga":"b396","./ga.js":"b396","./gd":"056c","./gd.js":"056c","./gl":"efde","./gl.js":"efde","./gom-latn":"8e2c","./gom-latn.js":"8e2c","./gu":"533d","./gu.js":"533d","./he":"7520","./he.js":"7520","./hi":"d2f3","./hi.js":"d2f3","./hr":"7e79","./hr.js":"7e79","./hu":"148f","./hu.js":"148f","./hy-am":"6711","./hy-am.js":"6711","./id":"2b10","./id.js":"2b10","./is":"1feb","./is.js":"1feb","./it":"1b21","./it-ch":"8d2c","./it-ch.js":"8d2c","./it.js":"1b21","./ja":"926e","./ja.js":"926e","./jv":"5a78","./jv.js":"5a78","./ka":"5975","./ka.js":"5975","./kk":"cc93","./kk.js":"cc93","./km":"66e1","./km.js":"66e1","./kn":"5421","./kn.js":"5421","./ko":"1297","./ko.js":"1297","./ku":"16f8","./ku.js":"16f8","./ky":"3df9","./ky.js":"3df9","./lb":"c124","./lb.js":"c124","./lo":"20a5","./lo.js":"20a5","./lt":"c14a","./lt.js":"c14a","./lv":"c553","./lv.js":"c553","./me":"ae25","./me.js":"ae25","./mi":"6f56","./mi.js":"6f56","./mk":"c8fc","./mk.js":"c8fc","./ml":"752d","./ml.js":"752d","./mn":"f09e","./mn.js":"f09e","./mr":"0a56","./mr.js":"0a56","./ms":"55b6","./ms-my":"a9e9","./ms-my.js":"a9e9","./ms.js":"55b6","./mt":"624b","./mt.js":"624b","./my":"e256","./my.js":"e256","./nb":"e1d5","./nb.js":"e1d5","./ne":"761a","./ne.js":"761a","./nl":"a0f2","./nl-be":"5cb2","./nl-be.js":"5cb2","./nl.js":"a0f2","./nn":"4fda","./nn.js":"4fda","./pa-in":"2f2f","./pa-in.js":"2f2f","./pl":"317f","./pl.js":"317f","./pt":"5553","./pt-br":"a9ab","./pt-br.js":"a9ab","./pt.js":"5553","./ro":"db12","./ro.js":"db12","./ru":"7aa4","./ru.js":"7aa4","./sd":"e87b","./sd.js":"e87b","./se":"a296","./se.js":"a296","./si":"51ec","./si.js":"51ec","./sk":"608b","./sk.js":"608b","./sl":"b367","./sl.js":"b367","./sq":"f68f","./sq.js":"f68f","./sr":"0991","./sr-cyrl":"c577","./sr-cyrl.js":"c577","./sr.js":"0991","./ss":"cf76","./ss.js":"cf76","./sv":"0153","./sv.js":"0153","./sw":"cb6f","./sw.js":"cb6f","./ta":"8bfa","./ta.js":"8bfa","./te":"668b","./te.js":"668b","./tet":"eae7","./tet.js":"eae7","./tg":"70b1","./tg.js":"70b1","./th":"7180","./th.js":"7180","./tl-ph":"f8bb","./tl-ph.js":"f8bb","./tlh":"b026","./tlh.js":"b026","./tr":"371d","./tr.js":"371d","./tzl":"c744","./tzl.js":"c744","./tzm":"787a","./tzm-latn":"71e0","./tzm-latn.js":"71e0","./tzm.js":"787a","./ug-cn":"6b5c","./ug-cn.js":"6b5c","./uk":"8c0c","./uk.js":"8c0c","./ur":"519e","./ur.js":"519e","./uz":"7982","./uz-latn":"3137","./uz-latn.js":"3137","./uz.js":"7982","./vi":"ae22","./vi.js":"ae22","./x-pseudo":"1129","./x-pseudo.js":"1129","./yo":"b4bf","./yo.js":"b4bf","./zh-cn":"fdc4","./zh-cn.js":"fdc4","./zh-hk":"747d","./zh-hk.js":"747d","./zh-tw":"d3e0","./zh-tw.js":"d3e0"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="0fd5"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("transition",{attrs:{name:e.transitionName,"enter-active-class":e.enterActive,"leave-active-class":e.leaveActive,mode:"out-in"}},[n("router-view")],1)],1)},s=[],o=n("2f62"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[e.isAuthorized?n("nav",{staticClass:"nav"},[n("div",{staticClass:"navbar__brand"},[n("router-link",{staticClass:"navbar__textbrand",attrs:{to:"/"}},[e._v("Astro Chat")])],1),n("ul",{staticClass:"navbar__nav"},[n("li",{staticClass:"nav__item"},[n("router-link",{staticClass:"nav__link",attrs:{to:"/chat"}},[e._v("Chat")])],1)]),n("ul",{staticClass:"navbar__nav navbar__nav--right"},[n("li",{staticClass:"nav__item"},[n("router-link",{staticClass:"nav__link",attrs:{to:{name:"UserProfile",params:{handle:e.getUserData.username}}}},[e._v("#"+e._s(e.getUserData.username)+" ("+e._s(e.getUserData.fullName)+")\n\t\t\t\t")])],1),n("li",{staticClass:"nav__item"},[n("a",{staticClass:"nav__link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("\n\t\t\t\t\tLogout\n\t\t\t\t")])])])]):n("nav",{staticClass:"nav gin-nav"},[n("div",{staticClass:"navbar__brand"},[n("router-link",{staticClass:"navbar__textbrand",attrs:{to:"/"}},[e._v("Astro Chat")])],1),n("ul",{staticClass:"navbar__nav"},[n("li",{staticClass:"nav__item"},[n("router-link",{staticClass:"nav__link",attrs:{to:"/"}},[e._v("Home")])],1),n("li",{staticClass:"nav__item"},[n("router-link",{staticClass:"nav__link",attrs:{to:"/about"}},[e._v("About")])],1)]),n("ul",{staticClass:"navbar__nav navbar__nav--right"},[n("li",{staticClass:"nav__item"},[n("router-link",{staticClass:"nav__link nav__link--rounded",attrs:{to:"/login"}},[e._v("Login")])],1),n("li",{staticClass:"nav__item"},[n("router-link",{staticClass:"nav__link nav__link--rounded",attrs:{to:"/register"}},[e._v("Sign Up")])],1)])])])},u=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),f=n("bc3a"),l=n.n(f);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"Navbar",data:function(){return{navToggleState:!1}},computed:b({},Object(o["c"])(["getUserData","isAuthorized"]),{getCurrentUser:function(){var e=this;if(!this.isAuthorized){var t={method:"get",url:"/v1/user/current"};l()(t).then((function(t){200===t.status&&(e.$store.dispatch("toggleAuthState",!0),e.$store.dispatch("saveUserData",t.data))})).catch((function(e){e.response.status}))}}}),methods:b({},Object(o["b"])(["toggleAuthState"]),{logout:function(){var e=this,t={method:"get",url:"/v1/user/logout"};l()(t).then((function(t){200===t.status&&(localStorage.clear(),e.$store.dispatch("toggleAuthState",!1),e.$router.push({name:"Login"}))})).catch((function(e){return e}))}}),created:function(){this.getCurrentUser}},m=h,j=(n("6a4e"),n("2877")),v=Object(j["a"])(m,c,u,!1,null,"027e6dda",null),p=v.exports,_="fade",g="animated fadeIn",k="animated fadeOut",A={name:"App",components:{Navbar:p},data:function(){return{transitionName:_,leaveActive:k,enterActive:g}},methods:{resetTransition:function(){this.transitionName=_,this.enterActive=g,this.leaveActive=k}},created:function(){}},S=A,E=(n("5c0b"),Object(j["a"])(S,r,s,!1,null,null,null)),y=E.exports,O=n("8c4f");a["a"].use(O["a"]);var C=new O["a"]({mode:"history",routes:[{path:"*",component:function(){return n.e("chunk-7b30674b").then(n.bind(null,"7b00"))}},{path:"/",name:"Home",component:function(){return n.e("chunk-74b790b1").then(n.bind(null,"bb51"))},meta:{requiresAuth:!1}},{path:"/about",name:"About",component:function(){return n.e("chunk-51812cb6").then(n.bind(null,"f820"))},meta:{requiresAuth:!1}},{path:"/login",name:"Login",component:function(){return n.e("chunk-07d0efd1").then(n.bind(null,"83c9"))},meta:{requiresAuth:!1}},{path:"/register",name:"Register",component:function(){return n.e("chunk-637f4742").then(n.bind(null,"f102"))},meta:{requiresAuth:!1}},{path:"/chat",name:"Chat",component:function(){return Promise.all([n.e("chunk-2237e890"),n.e("chunk-b785bbc6")]).then(n.bind(null,"a8c2"))},meta:{requiresAuth:!0}},{path:"/chat/:handle",name:"ChatDetail",component:function(){return Promise.all([n.e("chunk-2237e890"),n.e("chunk-3208a6fd")]).then(n.bind(null,"6172"))},meta:{requiresAuth:!0}},{path:"/user/:handle",name:"UserProfile",component:function(){return n.e("chunk-687899c4").then(n.bind(null,"dda5"))},meta:{requiresAuth:!0,transactionName:"router-anim",enterActive:"animated fadeIn"}}]}),R=C,T=(n("6762"),n("2fdb"),n("2ef0")),U=n.n(T);n("5b40");a["a"].use(o["a"]);var D=new o["a"].Store({state:{authState:!1,authUser:{},rooms:[],messagesInRoom:[],currentRoom:{}},getters:{getUserData:function(e){return e.authUser},isAuthorized:function(e){return e.authState},getRoomData:function(e){return e.rooms},getCurrentRoom:function(e){return e.currentRoom},getMessagesInRoom:function(e){return e.messagesInRoom}},mutations:{ASSIGN_USER_DATA:function(e,t){e.authUser=t},RESET_STATE:function(e){e.currentUser={},e.authUser=!1},TOGGLE_AUTH_STATE:function(e,t){e.authState=t},ASSIGN_ROOM_DATA:function(e,t){e.rooms=t},SAVE_CURRENT_ROOM:function(e,t){e.currentRoom=t},MESSAGES_IN_ROOM:function(e,t){e.messagesInRoom=t},PUSH_MESSAGE_IN_ROOM:function(e,t){var n=U.a.map(e.messagesInRoom,(function(e){return e._id}));U.a.includes(n,t._id)||e.messagesInRoom.push(t)},UPDATE_LAST_MESSAGE:function(e,t){e.rooms.forEach((function(e){e._id===t.room&&(e.lastMessage=t)}))},UPDATE_UNREAD:function(e,t){e.rooms.forEach((function(e){e._id===t&&(e.unread=(e.unread||0)+1)}))},CLEAR_UNREAD:function(e,t){e.rooms.forEach((function(e){e._id===t&&(e.unread=0)}))},ADD_MEMBER:function(e,t){var n=t.member;e.currentRoom.members.push(n)}},actions:{saveUserData:function(e,t){e.commit("ASSIGN_USER_DATA",t)},toggleAuthState:function(e,t){e.commit("TOGGLE_AUTH_STATE",t)},resetStateDate:function(e){l.a.get("/v1/user/logout").then((function(){e.commit("RESET_STATE"),localStorage.clear(),router.push({name:"Login"})}))},updateRoom:function(e,t){e.commit("ASSIGN_ROOM_DATA",t)},saveCurrentRoom:function(e,t){e.commit("SAVE_CURRENT_ROOM",t)},fetchMessages:function(e,t){l.a.get("/v1/message/".concat(t)).then((function(t){e.commit("MESSAGES_IN_ROOM",t.data)}))},pushMessageInRoom:function(e,t){e.commit("PUSH_MESSAGE_IN_ROOM",t)},updateLastMessage:function(e,t){e.commit("UPDATE_LAST_MESSAGE",t)},updateUnread:function(e,t){e.commit("UPDATE_UNREAD",t)},clearUnread:function(e,t){e.commit("CLEAR_UNREAD",t)},addMember:function(e,t){e.commit("ADD_MEMBER",t)}}}),M=n("caf6"),w=n("4e22"),N=n.n(w);function P(e){return e?N()(String(e)).format("MM/DD/YYYY hh:mm"):""}n("c5f6"),n("04ff");function z(e){if(e=Number.parseInt(e),"number"!==typeof e||isNaN(e))throw new TypeError("Expected a number");var t,n,a=e<0,r=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];return a&&(e=-e),e<1?(a?"-":"")+e+" B":(t=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),r.length-1),e=1*(e/Math.pow(1e3,t)).toFixed(2),n=r[t],(a?"-":"")+e+" "+n)}a["a"].config.productionTip=!1,a["a"].use(M["a"]),a["a"].filter("date",P),a["a"].filter("fileSize",z),new a["a"]({router:R,store:D,render:function(e){return e(y)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("e332"),r=n.n(a);r.a},"6a4e":function(e,t,n){"use strict";var a=n("a475"),r=n.n(a);r.a},a475:function(e,t,n){},e332:function(e,t,n){}});
//# sourceMappingURL=app.cd9230ff.js.map